
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Scraper module for scrape financial statement data from Yahoo Finance." name="description"/>
<meta content="Mohammad Ryan Alhakim" name="author"/>
<link href="https://ryanalhakim27.github.io/Yahoo-Fincancial-Statement-Scraper/references/" rel="canonical"/>
<link href="../how%20to%20use/" rel="prev"/>
<link href="../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-9.1.6" name="generator"/>
<title>References - Yahoo Financial Statement Scraper Documentations</title>
<link href="../assets/stylesheets/main.ded33207.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.a0c5b2b5.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../assets/_mkdocstrings.css" rel="stylesheet"/>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src="../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="" data-md-color-primary="" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#scrape.ScraFSY">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Yahoo Financial Statement Scraper Documentations" class="md-header__button md-logo" data-md-component="logo" href=".." title="Yahoo Financial Statement Scraper Documentations">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Yahoo Financial Statement Scraper Documentations
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              References
            
          </span>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/ryanalhakim27/Yahoo-Fincancial-Statement-Scraper/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Yahoo Financial Statement Scraper Documentations" class="md-nav__button md-logo" data-md-component="logo" href=".." title="Yahoo Financial Statement Scraper Documentations">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg>
</a>
    Yahoo Financial Statement Scraper Documentations
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/ryanalhakim27/Yahoo-Fincancial-Statement-Scraper/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
        Welcome to ScraFSY
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../how%20to%20use/">
        How to Use
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          References
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        References
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY">
    scrape.ScraFSY
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper">
    YFinanceScrapper
  </a>
<nav aria-label="YFinanceScrapper" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.convert_to_csv">
    convert_to_csv()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.create_dataframe">
    create_dataframe()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.get_alldata">
    get_alldata()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.get_finance_data">
    get_finance_data()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.get_html_data">
    get_html_data()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.important_dataframe">
    important_dataframe()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.metric_dataframe">
    metric_dataframe()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.parse_data">
    parse_data()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.reset_data">
    reset_data()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.value_to_num">
    value_to_num()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY">
    scrape.ScraFSY
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper">
    YFinanceScrapper
  </a>
<nav aria-label="YFinanceScrapper" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.convert_to_csv">
    convert_to_csv()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.create_dataframe">
    create_dataframe()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.get_alldata">
    get_alldata()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.get_finance_data">
    get_finance_data()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.get_html_data">
    get_html_data()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.important_dataframe">
    important_dataframe()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.metric_dataframe">
    metric_dataframe()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.parse_data">
    parse_data()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.reset_data">
    reset_data()
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#scrape.ScraFSY.YFinanceScrapper.value_to_num">
    value_to_num()
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>References</h1>
<div class="doc doc-object doc-module">
<a id="scrape.ScraFSY"></a>
<div class="doc doc-contents first">
<p>This module providing class represent a session in scrapping process.</p>
<p>This module is used for scrape financial statement data from Yahoo Finance.
In one session, you can only scrape financial statement data from one company.
The data consist of balance sheet, income statement, and cashflow statement. 
Those are tabulated for each statement. You can also get one table that contain
selected features from each statement, and one table that contain selected
financial metrics from the selected features.</p>
<p>This module require selenium and beautifoul soup 4 for scrapping and crawling,
pandas for making dataframe, and numpy for numerical manipulation.
Please install required library before use it!</p>
<div class="doc doc-children">
<div class="doc doc-object doc-class">
<h2 class="doc doc-heading" id="scrape.ScraFSY.YFinanceScrapper">
<code>YFinanceScrapper</code>
</h2>
<div class="doc doc-contents">
<p>A class that represent one scrape session</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span><span class="o">=</span><span class="n">YFinanceScrapper</span><span class="p">(</span><span class="s1">'BBCA.JK'</span><span class="p">)</span>
</code></pre></div>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>company_code</code></td>
<td>
<code>str</code>
</td>
<td><p>The company code that
you want to scrape </p></td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<p><strong>Attributes:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>address</code></td>
<td>
<code>dict</code>
</td>
<td><p>Dictionary that contain statement as key and
yahoo adress as value.</p></td>
</tr>
<tr>
<td><code>balance_sheet</code></td>
<td>
<code>pandas.<span title="pandas.Dataframe">Dataframe</span></code>
</td>
<td><p>A pandas Dataframe that contain
balance sheet statement data.</p></td>
</tr>
<tr>
<td><code>cash_flow</code></td>
<td>
<code>pandas.<span title="pandas.Dataframe">Dataframe</span></code>
</td>
<td><p>A pandas Dataframe that contain
cash flow statement data.</p></td>
</tr>
<tr>
<td><code>company_code</code></td>
<td>
<code>str</code>
</td>
<td><p>The company code that you want to scrape.</p></td>
</tr>
<tr>
<td><code>collect</code></td>
<td>
<code>list</code>
</td>
<td><p>A list that contain all name of features and their value.</p></td>
</tr>
<tr>
<td><code>content</code></td>
<td>
<code>bs4.<span title="bs4.BeautifulSoup">BeautifulSoup</span></code>
</td>
<td><p>BeautifulSoup object that contain Yahoo Finance
HTML file in Pythonic idioms.</p></td>
</tr>
<tr>
<td><code>features</code></td>
<td>
<code>list</code>
</td>
<td><p>A list that contain name of features those are collected.</p></td>
</tr>
<tr>
<td><code>headers</code></td>
<td>
<code>list</code>
</td>
<td><p>A list that contain name of headers in Yahoo Finance
financial statements table.</p></td>
</tr>
<tr>
<td><code>imp_dataframe</code></td>
<td>
<code>pandas.<span title="pandas.Dataframe">Dataframe</span></code>
</td>
<td><p>A pandas Dataframe that contain
selected features from each statement. </p></td>
</tr>
<tr>
<td><code>income_statement</code></td>
<td>
<code>pandas.<span title="pandas.Dataframe">Dataframe</span></code>
</td>
<td><p>A pandas Dataframe that contain
income statement data.</p></td>
</tr>
<tr>
<td><code>metric</code></td>
<td>
<code>pandas.<span title="pandas.Dataframe">Dataframe</span></code>
</td>
<td><p>A pandas Dataframe that contain
selected financial metrics from selected features.</p></td>
</tr>
<tr>
<td><code>note</code></td>
<td>
<code>list</code>
</td>
<td><p>A list that contain note that explain value (Ex:Currency).</p></td>
</tr>
<tr>
<td><code>path</code></td>
<td>
<code>str</code>
</td>
<td><p>Location of chromedriver.</p></td>
</tr>
<tr>
<td><code>table_choice</code></td>
<td>
<code>list</code>
</td>
<td><p>List of statement that can be chosen.</p></td>
</tr>
<tr>
<td><code>time</code></td>
<td>
<code>list</code>
</td>
<td><p>List of periodic of collected data.</p></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>scrape/ScraFSY.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">YFinanceScrapper</span><span class="p">():</span>
<span class="w">    </span><span class="sd">'''</span>
<span class="sd">    A class that represent one scrape session</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; bca=YFinanceScrapper('BBCA.JK')</span>

<span class="sd">    Args:</span>
<span class="sd">        company_code (str): The company code that</span>
<span class="sd">            you want to scrape </span>

<span class="sd">    Attributes:</span>
<span class="sd">        address (dict): Dictionary that contain statement as key and</span>
<span class="sd">            yahoo adress as value.</span>
<span class="sd">        balance_sheet (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">            balance sheet statement data.</span>
<span class="sd">        cash_flow (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">            cash flow statement data.</span>
<span class="sd">        company_code (str): The company code that you want to scrape.</span>
<span class="sd">        collect (list): A list that contain all name of features and their value.</span>
<span class="sd">        content (bs4.BeautifulSoup): BeautifulSoup object that contain Yahoo Finance</span>
<span class="sd">            HTML file in Pythonic idioms.</span>
<span class="sd">        features (list): A list that contain name of features those are collected.</span>
<span class="sd">        headers (list): A list that contain name of headers in Yahoo Finance</span>
<span class="sd">            financial statements table.</span>
<span class="sd">        imp_dataframe (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">            selected features from each statement. </span>
<span class="sd">        income_statement (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">            income statement data.</span>
<span class="sd">        metric (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">            selected financial metrics from selected features.</span>
<span class="sd">        note (list): A list that contain note that explain value (Ex:Currency).</span>
<span class="sd">        path (str): Location of chromedriver.</span>
<span class="sd">        table_choice (list): List of statement that can be chosen.</span>
<span class="sd">        time (list): List of periodic of collected data.</span>
<span class="sd">    '''</span>
    <span class="c1">#Function for initialization of object</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">company_code</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">note</span><span class="o">=</span><span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metric</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="o">=</span><span class="s1">'/usr/local/bin/chromedriver'</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s1">'Company'</span><span class="p">,</span><span class="s1">'Time'</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="o">=</span><span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="o">=</span><span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="o">=</span><span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="o">=</span><span class="n">company_code</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_choice</span><span class="o">=</span><span class="p">[</span><span class="s1">'Income Statement'</span><span class="p">,</span><span class="s1">'Balance Sheet'</span><span class="p">,</span><span class="s1">'Cash Flow'</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">address</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">'Income Statement'</span><span class="p">:</span> <span class="s1">'https://finance.yahoo.com/quote/'</span>
                <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="o">+</span><span class="s1">'/financials?p='</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="p">,</span>
            <span class="s1">'Balance Sheet'</span><span class="p">:</span> <span class="s1">'https://finance.yahoo.com/quote/'</span>
                <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="o">+</span><span class="s1">'/balance-sheet?p='</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="p">,</span> 
            <span class="s1">'Cash Flow'</span> <span class="p">:</span> <span class="s1">'https://finance.yahoo.com/quote/'</span>
                <span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="o">+</span><span class="s1">'/cash-flow?p='</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span>
        <span class="p">}</span>

    <span class="c1">#Function for get html data  </span>
    <span class="k">def</span> <span class="nf">get_html_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">statement</span><span class="p">):</span>
<span class="w">        </span><span class="sd">'''Retrieve a Beautifulsoup object that contains JSON file from Yahoo Finance.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">            &gt;&gt;&gt; content= bca.get_html_data('Income Statement')</span>

<span class="sd">        Args:</span>
<span class="sd">            statement (str): The selected statement that is gonna be scraped.</span>

<span class="sd">        Returns:</span>
<span class="sd">            content (bs4.BeautifulSoup): BeautifulSoup object that contain Yahoo Finance </span>
<span class="sd">                HTML file in Pythonic idioms.</span>
<span class="sd">        '''</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1">#Initiate web driver</span>
            <span class="n">driver</span><span class="o">=</span><span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">statement</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_choice</span><span class="p">:</span>
                <span class="c1">#Access link</span>
                <span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">address</span><span class="p">[</span><span class="n">statement</span><span class="p">])</span>
            <span class="k">else</span> <span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">'Your statement input is wrong'</span><span class="p">)</span>
            <span class="c1">#Wait until web appear and then select period of data</span>
            <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span>
                <span class="n">EC</span><span class="o">.</span><span class="n">element_to_be_clickable</span><span class="p">((</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span><span class="s1">'//span[text()="Quarterly"]'</span><span class="p">)))</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="c1">#Wait until web appear and then select period of data</span>
            <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span>
                <span class="n">EC</span><span class="o">.</span><span class="n">element_to_be_clickable</span><span class="p">((</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span><span class="s1">'//span[text()="Expand All"]'</span><span class="p">)))</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
            <span class="c1">#Wait until web appear and ready take the html</span>
            <span class="n">waktu</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
            <span class="c1">#Create html element</span>
            <span class="n">html</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="s1">'return document.body.innerHTML;'</span><span class="p">)</span>
            <span class="c1">#Connect to Beautiful Soup for Parsing</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">soup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span><span class="s1">'lxml'</span><span class="p">)</span>
            <span class="c1">#Close the wesite</span>
            <span class="n">driver</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">content</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">'There is change in html structure, Please inform this error to us!'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">parse_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">content</span><span class="p">,</span><span class="n">statement</span><span class="p">):</span>
<span class="w">        </span><span class="sd">'''Parse JSON file from Yahoo Finance to get data in Financial Statements.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">            &gt;&gt;&gt; collect= bca.parse_data(self.content,'Income Statement')</span>

<span class="sd">        Args:</span>
<span class="sd">            content (bs4.BeautifulSoup): BeautifulSoup object that contain Yahoo Finance</span>
<span class="sd">                HTML file in Pythonic idioms.</span>
<span class="sd">            statement (str): The selected statement that is gonna be scraped.</span>

<span class="sd">        Returns:</span>
<span class="sd">            collect (list): A list that contain all name of features and their value.</span>
<span class="sd">            headers (list): A list that contain name of headers in the table.</span>
<span class="sd">            time (list): List of periodic of collected data.</span>
<span class="sd">        '''</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1">#Find note of the currency</span>
            <span class="n">notes</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'span'</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">'Fz(xs)'</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">noted</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">noted</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">note</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">note</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">noted</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="c1">#Find all div that contain class D(tbr)</span>
            <span class="n">rows</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'div'</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">'D(tbr)'</span><span class="p">)</span>
            <span class="c1">#create time of data</span>
            <span class="k">for</span> <span class="n">header</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'span'</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="c1">#Create list of time</span>
            <span class="k">if</span> <span class="n">statement</span> <span class="o">!=</span> <span class="s1">'Balance Sheet'</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
            <span class="k">elif</span> <span class="n">statement</span> <span class="o">==</span> <span class="s1">'Balance Sheet'</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="c1">#create features of data</span>
            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
                <span class="n">columns</span><span class="o">=</span><span class="n">row</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'span'</span><span class="p">,</span><span class="n">class_</span><span class="o">=</span><span class="s1">'Va(m)'</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
            <span class="c1">#Get data in all features</span>
            <span class="n">data</span><span class="o">=</span><span class="p">[]</span>
            <span class="n">index</span><span class="o">=</span><span class="mi">1</span>
            <span class="k">while</span> <span class="n">index</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">span</span><span class="o">=</span><span class="n">rows</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'div'</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">span</span><span class="p">:</span>
                    <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">text</span><span class="p">)</span> 
                <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
                <span class="n">data</span><span class="o">=</span><span class="p">[]</span>
                <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">time</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">'There are change in table format of financial statements, Please inform this error to us!'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">collect</span><span class="p">,</span><span class="n">headers</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">statement</span><span class="p">):</span>
<span class="w">        </span><span class="sd">'''Create dataframe from data that already collected from parsing process.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">            &gt;&gt;&gt; df= bca.create_dataframe(self.collect,self.headers,self.time,'Income Statement')</span>

<span class="sd">        Args:</span>
<span class="sd">            collect (list): A list that contain all name of features and their value.</span>
<span class="sd">            headers (list): A list that contain name of headers in Yahoo Finance</span>
<span class="sd">                financial statements table.</span>
<span class="sd">            time (list): List of periodic of collected data.</span>
<span class="sd">            statement (str): The selected statement that is gonna be scraped.</span>

<span class="sd">        Returns:</span>
<span class="sd">            df2 (pandas.Dataframe): Dataframe that contain data from selected statement.</span>
<span class="sd">        '''</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">collect</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
            <span class="n">df2</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">T</span>
            <span class="n">new_col</span><span class="o">=</span><span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">new_col</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">df2</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="n">new_col</span>
            <span class="n">df2</span><span class="o">=</span><span class="n">df2</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">statement</span> <span class="o">!=</span> <span class="s1">'Balance Sheet'</span><span class="p">:</span>
                <span class="n">df2</span><span class="o">=</span><span class="n">df2</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">statement</span> <span class="o">==</span><span class="s1">'Balance Sheet'</span><span class="p">:</span>
                <span class="n">df2</span><span class="o">=</span><span class="n">df2</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">df2</span><span class="o">=</span><span class="n">df2</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_to_num</span><span class="p">)</span>
            <span class="n">df2</span><span class="p">[</span><span class="s1">'Time'</span><span class="p">]</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
            <span class="n">df2</span><span class="p">[</span><span class="s1">'Company'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span>
            <span class="n">df2</span><span class="o">=</span><span class="n">df2</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">df2</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">'There are change in structure of financial statement table, please inform us this error!'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_finance_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">statement</span><span class="p">):</span>
<span class="w">        </span><span class="sd">'''Retrieve dataframe that contains all data in selected statement.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">            &gt;&gt;&gt; df= bca.get_finance_data('Income Statement')</span>

<span class="sd">        Args:</span>
<span class="sd">            statement (str): The selected statement that is gonna be scraped.</span>

<span class="sd">        Returns:</span>
<span class="sd">            balance_sheet (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">                balance sheet statement data.</span>
<span class="sd">            cash_flow (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">                cash flow statement data.</span>
<span class="sd">            income_statement (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">                income statement data.</span>
<span class="sd">        '''</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_html_data</span><span class="p">(</span><span class="n">statement</span><span class="o">=</span><span class="n">statement</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_data</span><span class="p">(</span>
            <span class="n">content</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">,</span><span class="n">statement</span><span class="o">=</span><span class="n">statement</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">statement</span><span class="o">==</span><span class="s1">'Income Statement'</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">create_dataframe</span><span class="p">(</span>
                <span class="n">collect</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">,</span><span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span><span class="n">time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="p">,</span><span class="n">statement</span><span class="o">=</span><span class="n">statement</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span>
        <span class="k">elif</span> <span class="n">statement</span><span class="o">==</span><span class="s1">'Balance Sheet'</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">create_dataframe</span><span class="p">(</span>
                <span class="n">collect</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">,</span><span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span><span class="n">time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="p">,</span><span class="n">statement</span><span class="o">=</span><span class="n">statement</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span>
        <span class="k">elif</span> <span class="n">statement</span><span class="o">==</span><span class="s1">'Cash Flow'</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">create_dataframe</span><span class="p">(</span>
                <span class="n">collect</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">,</span><span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span><span class="n">time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="p">,</span><span class="n">statement</span><span class="o">=</span><span class="n">statement</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span>

    <span class="k">def</span> <span class="nf">reset_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">param1</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">'''Reset variable content, features, collect, time, and headers so it can use for scrape again.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">            &gt;&gt;&gt; df= bca.get_finance_data('Income Statement')</span>
<span class="sd">            &gt;&gt;&gt; bca.reset_data()</span>
<span class="sd">            &gt;&gt;&gt; df_new= bca.get_finance_data('Balance Sheet')</span>

<span class="sd">        Args:</span>
<span class="sd">            param1 (:obj:`str`, optional): The first parameter. </span>
<span class="sd">                Defaults to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            collect (list): Empty list for store collected data.</span>
<span class="sd">            content (NoneType): Variable content set to None for collected </span>
<span class="sd">                BeautifulSoup JSON data.</span>
<span class="sd">            features (list): Set features to default for storing features.</span>
<span class="sd">            headeres (list): Empty list for storing headers of financial</span>
<span class="sd">                statements table headers.</span>
<span class="sd">            time (list): Empty list for storing periodic of</span>
<span class="sd">                financial statements data.</span>
<span class="sd">        '''</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s1">'Company'</span><span class="p">,</span><span class="s1">'Time'</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="o">=</span><span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="o">=</span><span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="o">=</span><span class="p">[]</span>

    <span class="k">def</span> <span class="nf">get_alldata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">param1</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">'''Retrieve all statement in 3 dataframe of selected company.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">            &gt;&gt;&gt; bca.get_alldata()</span>

<span class="sd">        Args:</span>
<span class="sd">            param1 (:obj:`str`, optional): The first parameter. </span>
<span class="sd">                Defaults to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            balance_sheet (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">                balance sheet statement data.</span>
<span class="sd">            cash_flow (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">                cash flow statement data.</span>
<span class="sd">            income_statement (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">                income statement data.</span>
<span class="sd">        '''</span>
        <span class="k">for</span> <span class="n">statement</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_choice</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_finance_data</span><span class="p">(</span><span class="n">statement</span><span class="o">=</span><span class="n">statement</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reset_data</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">convert_to_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name_of_table</span><span class="p">):</span>
<span class="w">        </span><span class="sd">'''Convert selected statements table to csv.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">            &gt;&gt;&gt; df= bca.get_finance_data('Income Statement')</span>
<span class="sd">            &gt;&gt;&gt; bca.convert_to_csv(income_statement)</span>

<span class="sd">        Args:</span>
<span class="sd">            name_of_table (str): Name of table.</span>

<span class="sd">        Returns:</span>
<span class="sd">            csv file of selected dataframe.</span>

<span class="sd">        '''</span>
        <span class="k">if</span> <span class="n">name_of_table</span> <span class="o">==</span> <span class="s1">'income_statement'</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">'csv_files/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">name_of_table</span><span class="si">}</span><span class="s1">.csv'</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name_of_table</span> <span class="o">==</span> <span class="s2">"balance_sheet"</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">'csv_files/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">name_of_table</span><span class="si">}</span><span class="s1">.csv'</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name_of_table</span> <span class="o">==</span> <span class="s2">"cash_flow"</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">'csv_files/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">name_of_table</span><span class="si">}</span><span class="s1">.csv'</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name_of_table</span> <span class="o">==</span> <span class="s2">"imp_dataframe"</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">'csv_files/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">name_of_table</span><span class="si">}</span><span class="s1">.csv'</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">name_of_table</span> <span class="o">==</span> <span class="s2">"metric"</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">'csv_files/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">name_of_table</span><span class="si">}</span><span class="s1">.csv'</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">'your input is false'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">value_to_num</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">):</span>
<span class="w">        </span><span class="sd">'''Data manipulation that convert '-' to nan, convert ',' to '',</span>
<span class="sd">            convert 'K' to 1000.</span>

<span class="sd">        Args:</span>
<span class="sd">            x (optional): Selected value that want to change.</span>

<span class="sd">        Returns:</span>
<span class="sd">            x (float): New value with type float.</span>

<span class="sd">        '''</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="s1">'-'</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">float</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">!=</span><span class="nb">int</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">'.'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">','</span><span class="p">,</span><span class="s1">''</span><span class="p">)))</span>
            <span class="k">elif</span> <span class="s1">'.'</span> <span class="ow">in</span> <span class="n">x</span> <span class="p">:</span>
                <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">','</span><span class="p">,</span><span class="s1">''</span><span class="p">))</span>
        <span class="k">if</span> <span class="s1">'K'</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'K'</span><span class="p">,</span><span class="s1">''</span><span class="p">))</span><span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
            <span class="k">return</span> <span class="mf">1000.0</span>

    <span class="k">def</span> <span class="nf">important_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">param1</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">'''Create dataframe that contain selected features from all statements table.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; goto = YFinanceScrapper('GOTO.JK')</span>
<span class="sd">            &gt;&gt;&gt; goto.get_alldata()</span>
<span class="sd">            &gt;&gt;&gt; goto.important_dataframe()</span>

<span class="sd">         Args:</span>
<span class="sd">            param1 (:obj:`str`, optional): The first parameter. </span>
<span class="sd">                Defaults to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            imp_dataframe (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">                selected features from each statement.</span>
<span class="sd">        '''</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">important_header</span><span class="o">=</span><span class="p">[</span><span class="s1">'time'</span><span class="p">,</span><span class="s1">'company'</span><span class="p">,</span><span class="s1">'current_assets'</span><span class="p">,</span><span class="s1">'current_liabilities'</span><span class="p">,</span>
                            <span class="s1">'inventories'</span><span class="p">,</span><span class="s1">'cash&amp;cashequiv'</span><span class="p">,</span><span class="s1">'total_assets'</span><span class="p">,</span>
                            <span class="s1">'total_liabilities'</span><span class="p">,</span><span class="s1">'shareholder_equity'</span><span class="p">,</span>
                            <span class="s1">'operating_cashflow'</span><span class="p">,</span><span class="s1">'gross_profit'</span><span class="p">,</span><span class="s1">'investing_cashflow'</span><span class="p">,</span>
                            <span class="s1">'financing_cashflow'</span><span class="p">,</span><span class="s1">'end_cash'</span><span class="p">,</span>
                            <span class="s1">'operating_income'</span><span class="p">,</span><span class="s1">'total_revenue'</span><span class="p">,</span><span class="s1">'net_income'</span><span class="p">,</span>
                            <span class="s1">'interest_expense'</span><span class="p">,</span><span class="s1">'cost_of_good_sold'</span><span class="p">,</span><span class="s1">'EBIT'</span><span class="p">,</span><span class="s1">'EPS'</span><span class="p">,</span><span class="s1">'EBITDA'</span><span class="p">]</span>
            <span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">important_header</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'time'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Time'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'company'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Company'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'current_assets'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Current Assets'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'current_liabilities'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Current Liabilities'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'inventories'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Inventory'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'cash&amp;cashequiv'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Cash And Cash Equivalents'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'total_assets'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Total Assets'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'total_liabilities'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Total Liabilities Net Minority Interest'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'shareholder_equity'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"Stockholders' Equity"</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'operating_cashflow'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'investing_cashflow'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Investing Cash Flow'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'financing_cashflow'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Financing Cash Flow'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'end_cash'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'End Cash Position'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'gross_profit'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Gross Profit'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'operating_income'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Operating Income'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'total_revenue'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Total Revenue'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'interest_expense'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Interest Expense'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'net_income'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Net Income'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'cost_of_good_sold'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Cost of Revenue'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'EBIT'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'EBIT'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'EPS'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Basic EPS'</span><span class="p">)</span>
            <span class="n">df</span><span class="p">[</span><span class="s1">'EBITDA'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Normalized EBITDA'</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span> <span class="o">=</span> <span class="n">df</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span>
        <span class="k">except</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">'There are data that unavailable'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">metric_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">param1</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">'''Create dataframe that contain selected financial metrics</span>
<span class="sd">            from important dataframe.</span>

<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">            &gt;&gt;&gt; bca.get_alldata()</span>
<span class="sd">            &gt;&gt;&gt; bca.important_dataframe()</span>
<span class="sd">            &gt;&gt;&gt; bca.metric_dataframe()</span>

<span class="sd">         Args:</span>
<span class="sd">            param1 (:obj:`str`, optional): The first parameter. </span>
<span class="sd">                Defaults to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            metric (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">                selected financial metrics from selected features.</span>
<span class="sd">        '''</span>
        <span class="n">metric_header</span><span class="o">=</span><span class="p">[</span><span class="s1">'time'</span><span class="p">,</span><span class="s1">'company'</span><span class="p">,</span><span class="s1">'net_profit_margin'</span><span class="p">,</span><span class="s1">'current_ratio'</span><span class="p">,</span><span class="s1">'acidtest_ratio'</span><span class="p">,</span>
                          <span class="s1">'cash_ratio'</span><span class="p">,</span><span class="s1">'operating_cash_flow_ratio'</span><span class="p">,</span><span class="s1">'debt_ratio'</span><span class="p">,</span>
                          <span class="s1">'return_on_asset_ratio'</span><span class="p">,</span><span class="s1">'debt_to_equity_ratio'</span><span class="p">,</span>
                          <span class="s1">'interest_coverage_ratio'</span><span class="p">,</span><span class="s1">'return_on_equity_ratio'</span><span class="p">,</span>
                          <span class="s1">'gross_margin_ratio'</span><span class="p">,</span><span class="s1">'operating_margin_ratio'</span><span class="p">]</span>
        <span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">metric_header</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'time'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Time'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'company'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Company'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'net_profit_margin'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'net_income'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_revenue'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'current_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'current_assets'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'current_liabilities'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'acidtest_ratio'</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'current_assets'</span><span class="p">)</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'inventories'</span><span class="p">))</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'current_liabilities'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'cash_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'cash&amp;cashequiv'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'current_liabilities'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'operating_cash_flow_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'operating_cashflow'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'current_liabilities'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'debt_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_liabilities'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_assets'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'debt_to_equity_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_liabilities'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'shareholder_equity'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'interest_coverage_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'EBIT'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'interest_expense'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'gross_margin_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'gross_profit'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_revenue'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'operating_margin_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'operating_income'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_revenue'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'return_on_asset_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'net_income'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_assets'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'return_on_equity_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'net_income'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'shareholder_equity'</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metric</span> <span class="o">=</span> <span class="n">df</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">metric</span>
</code></pre></div></td></tr></table></div>
</details>
<div class="doc doc-children">
<div class="doc doc-object doc-function">
<h3 class="doc doc-heading" id="scrape.ScraFSY.YFinanceScrapper.convert_to_csv">
<code class="highlight language-python"><span class="n">convert_to_csv</span><span class="p">(</span><span class="n">name_of_table</span><span class="p">)</span></code>
</h3>
<div class="doc doc-contents">
<p>Convert selected statements table to csv.</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span> <span class="o">=</span> <span class="n">YFinanceScrapper</span><span class="p">(</span><span class="s1">'BBCA.JK'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">=</span> <span class="n">bca</span><span class="o">.</span><span class="n">get_finance_data</span><span class="p">(</span><span class="s1">'Income Statement'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span><span class="o">.</span><span class="n">convert_to_csv</span><span class="p">(</span><span class="n">income_statement</span><span class="p">)</span>
</code></pre></div>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name_of_table</code></td>
<td>
<code>str</code>
</td>
<td><p>Name of table.</p></td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
</td>
<td><p>csv file of selected dataframe.</p></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>scrape/ScraFSY.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">convert_to_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">name_of_table</span><span class="p">):</span>
<span class="w">    </span><span class="sd">'''Convert selected statements table to csv.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">        &gt;&gt;&gt; df= bca.get_finance_data('Income Statement')</span>
<span class="sd">        &gt;&gt;&gt; bca.convert_to_csv(income_statement)</span>

<span class="sd">    Args:</span>
<span class="sd">        name_of_table (str): Name of table.</span>

<span class="sd">    Returns:</span>
<span class="sd">        csv file of selected dataframe.</span>

<span class="sd">    '''</span>
    <span class="k">if</span> <span class="n">name_of_table</span> <span class="o">==</span> <span class="s1">'income_statement'</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">'csv_files/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">name_of_table</span><span class="si">}</span><span class="s1">.csv'</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">name_of_table</span> <span class="o">==</span> <span class="s2">"balance_sheet"</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">'csv_files/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">name_of_table</span><span class="si">}</span><span class="s1">.csv'</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">name_of_table</span> <span class="o">==</span> <span class="s2">"cash_flow"</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">'csv_files/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">name_of_table</span><span class="si">}</span><span class="s1">.csv'</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">name_of_table</span> <span class="o">==</span> <span class="s2">"imp_dataframe"</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">'csv_files/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">name_of_table</span><span class="si">}</span><span class="s1">.csv'</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">name_of_table</span> <span class="o">==</span> <span class="s2">"metric"</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">metric</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="sa">f</span><span class="s1">'csv_files/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">name_of_table</span><span class="si">}</span><span class="s1">.csv'</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'your input is false'</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h3 class="doc doc-heading" id="scrape.ScraFSY.YFinanceScrapper.create_dataframe">
<code class="highlight language-python"><span class="n">create_dataframe</span><span class="p">(</span><span class="n">collect</span><span class="p">,</span> <span class="n">headers</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">statement</span><span class="p">)</span></code>
</h3>
<div class="doc doc-contents">
<p>Create dataframe from data that already collected from parsing process.</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span> <span class="o">=</span> <span class="n">YFinanceScrapper</span><span class="p">(</span><span class="s1">'BBCA.JK'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">=</span> <span class="n">bca</span><span class="o">.</span><span class="n">create_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="p">,</span><span class="s1">'Income Statement'</span><span class="p">)</span>
</code></pre></div>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>collect</code></td>
<td>
<code>list</code>
</td>
<td><p>A list that contain all name of features and their value.</p></td>
<td>
<em>required</em>
</td>
</tr>
<tr>
<td><code>headers</code></td>
<td>
<code>list</code>
</td>
<td><p>A list that contain name of headers in Yahoo Finance
financial statements table.</p></td>
<td>
<em>required</em>
</td>
</tr>
<tr>
<td><code>time</code></td>
<td>
<code>list</code>
</td>
<td><p>List of periodic of collected data.</p></td>
<td>
<em>required</em>
</td>
</tr>
<tr>
<td><code>statement</code></td>
<td>
<code>str</code>
</td>
<td><p>The selected statement that is gonna be scraped.</p></td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Name</th> <th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>df2</code></td> <td>
<code>pandas.<span title="pandas.Dataframe">Dataframe</span></code>
</td>
<td><p>Dataframe that contain data from selected statement.</p></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>scrape/ScraFSY.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">create_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">collect</span><span class="p">,</span><span class="n">headers</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">statement</span><span class="p">):</span>
<span class="w">    </span><span class="sd">'''Create dataframe from data that already collected from parsing process.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">        &gt;&gt;&gt; df= bca.create_dataframe(self.collect,self.headers,self.time,'Income Statement')</span>

<span class="sd">    Args:</span>
<span class="sd">        collect (list): A list that contain all name of features and their value.</span>
<span class="sd">        headers (list): A list that contain name of headers in Yahoo Finance</span>
<span class="sd">            financial statements table.</span>
<span class="sd">        time (list): List of periodic of collected data.</span>
<span class="sd">        statement (str): The selected statement that is gonna be scraped.</span>

<span class="sd">    Returns:</span>
<span class="sd">        df2 (pandas.Dataframe): Dataframe that contain data from selected statement.</span>
<span class="sd">    '''</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">collect</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
        <span class="n">df2</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">T</span>
        <span class="n">new_col</span><span class="o">=</span><span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df2</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">new_col</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">df2</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="n">new_col</span>
        <span class="n">df2</span><span class="o">=</span><span class="n">df2</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">statement</span> <span class="o">!=</span> <span class="s1">'Balance Sheet'</span><span class="p">:</span>
            <span class="n">df2</span><span class="o">=</span><span class="n">df2</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">statement</span> <span class="o">==</span><span class="s1">'Balance Sheet'</span><span class="p">:</span>
            <span class="n">df2</span><span class="o">=</span><span class="n">df2</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">df2</span><span class="o">=</span><span class="n">df2</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_to_num</span><span class="p">)</span>
        <span class="n">df2</span><span class="p">[</span><span class="s1">'Time'</span><span class="p">]</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>
        <span class="n">df2</span><span class="p">[</span><span class="s1">'Company'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">company_code</span>
        <span class="n">df2</span><span class="o">=</span><span class="n">df2</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">df2</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'There are change in structure of financial statement table, please inform us this error!'</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h3 class="doc doc-heading" id="scrape.ScraFSY.YFinanceScrapper.get_alldata">
<code class="highlight language-python"><span class="n">get_alldata</span><span class="p">(</span><span class="n">param1</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
</h3>
<div class="doc doc-contents">
<p>Retrieve all statement in 3 dataframe of selected company.</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span> <span class="o">=</span> <span class="n">YFinanceScrapper</span><span class="p">(</span><span class="s1">'BBCA.JK'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span><span class="o">.</span><span class="n">get_alldata</span><span class="p">()</span>
</code></pre></div>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>param1</code></td>
<td>
</td>
<td><p>obj:<code>str</code>, optional): The first parameter. 
Defaults to None.</p></td>
<td>
<code>None</code>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Name</th> <th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>balance_sheet</code></td> <td>
<code>pandas.<span title="pandas.Dataframe">Dataframe</span></code>
</td>
<td><p>A pandas Dataframe that contain
balance sheet statement data.</p></td>
</tr>
<tr>
<td><code>cash_flow</code></td> <td>
<code>pandas.<span title="pandas.Dataframe">Dataframe</span></code>
</td>
<td><p>A pandas Dataframe that contain
cash flow statement data.</p></td>
</tr>
<tr>
<td><code>income_statement</code></td> <td>
<code>pandas.<span title="pandas.Dataframe">Dataframe</span></code>
</td>
<td><p>A pandas Dataframe that contain
income statement data.</p></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>scrape/ScraFSY.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_alldata</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">param1</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">'''Retrieve all statement in 3 dataframe of selected company.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">        &gt;&gt;&gt; bca.get_alldata()</span>

<span class="sd">    Args:</span>
<span class="sd">        param1 (:obj:`str`, optional): The first parameter. </span>
<span class="sd">            Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        balance_sheet (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">            balance sheet statement data.</span>
<span class="sd">        cash_flow (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">            cash flow statement data.</span>
<span class="sd">        income_statement (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">            income statement data.</span>
<span class="sd">    '''</span>
    <span class="k">for</span> <span class="n">statement</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_choice</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_finance_data</span><span class="p">(</span><span class="n">statement</span><span class="o">=</span><span class="n">statement</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset_data</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h3 class="doc doc-heading" id="scrape.ScraFSY.YFinanceScrapper.get_finance_data">
<code class="highlight language-python"><span class="n">get_finance_data</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span></code>
</h3>
<div class="doc doc-contents">
<p>Retrieve dataframe that contains all data in selected statement.</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span> <span class="o">=</span> <span class="n">YFinanceScrapper</span><span class="p">(</span><span class="s1">'BBCA.JK'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">=</span> <span class="n">bca</span><span class="o">.</span><span class="n">get_finance_data</span><span class="p">(</span><span class="s1">'Income Statement'</span><span class="p">)</span>
</code></pre></div>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>statement</code></td>
<td>
<code>str</code>
</td>
<td><p>The selected statement that is gonna be scraped.</p></td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Name</th> <th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>balance_sheet</code></td> <td>
<code>pandas.<span title="pandas.Dataframe">Dataframe</span></code>
</td>
<td><p>A pandas Dataframe that contain
balance sheet statement data.</p></td>
</tr>
<tr>
<td><code>cash_flow</code></td> <td>
<code>pandas.<span title="pandas.Dataframe">Dataframe</span></code>
</td>
<td><p>A pandas Dataframe that contain
cash flow statement data.</p></td>
</tr>
<tr>
<td><code>income_statement</code></td> <td>
<code>pandas.<span title="pandas.Dataframe">Dataframe</span></code>
</td>
<td><p>A pandas Dataframe that contain
income statement data.</p></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>scrape/ScraFSY.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_finance_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">statement</span><span class="p">):</span>
<span class="w">    </span><span class="sd">'''Retrieve dataframe that contains all data in selected statement.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">        &gt;&gt;&gt; df= bca.get_finance_data('Income Statement')</span>

<span class="sd">    Args:</span>
<span class="sd">        statement (str): The selected statement that is gonna be scraped.</span>

<span class="sd">    Returns:</span>
<span class="sd">        balance_sheet (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">            balance sheet statement data.</span>
<span class="sd">        cash_flow (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">            cash flow statement data.</span>
<span class="sd">        income_statement (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">            income statement data.</span>
<span class="sd">    '''</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_html_data</span><span class="p">(</span><span class="n">statement</span><span class="o">=</span><span class="n">statement</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">time</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_data</span><span class="p">(</span>
        <span class="n">content</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">,</span><span class="n">statement</span><span class="o">=</span><span class="n">statement</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">statement</span><span class="o">==</span><span class="s1">'Income Statement'</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">create_dataframe</span><span class="p">(</span>
            <span class="n">collect</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">,</span><span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span><span class="n">time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="p">,</span><span class="n">statement</span><span class="o">=</span><span class="n">statement</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span>
    <span class="k">elif</span> <span class="n">statement</span><span class="o">==</span><span class="s1">'Balance Sheet'</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">create_dataframe</span><span class="p">(</span>
            <span class="n">collect</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">,</span><span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span><span class="n">time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="p">,</span><span class="n">statement</span><span class="o">=</span><span class="n">statement</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span>
    <span class="k">elif</span> <span class="n">statement</span><span class="o">==</span><span class="s1">'Cash Flow'</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">create_dataframe</span><span class="p">(</span>
            <span class="n">collect</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">,</span><span class="n">headers</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span><span class="n">time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="p">,</span><span class="n">statement</span><span class="o">=</span><span class="n">statement</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h3 class="doc doc-heading" id="scrape.ScraFSY.YFinanceScrapper.get_html_data">
<code class="highlight language-python"><span class="n">get_html_data</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span></code>
</h3>
<div class="doc doc-contents">
<p>Retrieve a Beautifulsoup object that contains JSON file from Yahoo Finance.</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span> <span class="o">=</span> <span class="n">YFinanceScrapper</span><span class="p">(</span><span class="s1">'BBCA.JK'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">content</span><span class="o">=</span> <span class="n">bca</span><span class="o">.</span><span class="n">get_html_data</span><span class="p">(</span><span class="s1">'Income Statement'</span><span class="p">)</span>
</code></pre></div>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>statement</code></td>
<td>
<code>str</code>
</td>
<td><p>The selected statement that is gonna be scraped.</p></td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Name</th> <th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content</code></td> <td>
<code>bs4.<span title="bs4.BeautifulSoup">BeautifulSoup</span></code>
</td>
<td><p>BeautifulSoup object that contain Yahoo Finance 
HTML file in Pythonic idioms.</p></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>scrape/ScraFSY.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_html_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">statement</span><span class="p">):</span>
<span class="w">    </span><span class="sd">'''Retrieve a Beautifulsoup object that contains JSON file from Yahoo Finance.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">        &gt;&gt;&gt; content= bca.get_html_data('Income Statement')</span>

<span class="sd">    Args:</span>
<span class="sd">        statement (str): The selected statement that is gonna be scraped.</span>

<span class="sd">    Returns:</span>
<span class="sd">        content (bs4.BeautifulSoup): BeautifulSoup object that contain Yahoo Finance </span>
<span class="sd">            HTML file in Pythonic idioms.</span>
<span class="sd">    '''</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1">#Initiate web driver</span>
        <span class="n">driver</span><span class="o">=</span><span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">statement</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_choice</span><span class="p">:</span>
            <span class="c1">#Access link</span>
            <span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">address</span><span class="p">[</span><span class="n">statement</span><span class="p">])</span>
        <span class="k">else</span> <span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">'Your statement input is wrong'</span><span class="p">)</span>
        <span class="c1">#Wait until web appear and then select period of data</span>
        <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span>
            <span class="n">EC</span><span class="o">.</span><span class="n">element_to_be_clickable</span><span class="p">((</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span><span class="s1">'//span[text()="Quarterly"]'</span><span class="p">)))</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="c1">#Wait until web appear and then select period of data</span>
        <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">until</span><span class="p">(</span>
            <span class="n">EC</span><span class="o">.</span><span class="n">element_to_be_clickable</span><span class="p">((</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span><span class="s1">'//span[text()="Expand All"]'</span><span class="p">)))</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="c1">#Wait until web appear and ready take the html</span>
        <span class="n">waktu</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="c1">#Create html element</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="s1">'return document.body.innerHTML;'</span><span class="p">)</span>
        <span class="c1">#Connect to Beautiful Soup for Parsing</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content</span> <span class="o">=</span> <span class="n">soup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span><span class="s1">'lxml'</span><span class="p">)</span>
        <span class="c1">#Close the wesite</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">content</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'There is change in html structure, Please inform this error to us!'</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h3 class="doc doc-heading" id="scrape.ScraFSY.YFinanceScrapper.important_dataframe">
<code class="highlight language-python"><span class="n">important_dataframe</span><span class="p">(</span><span class="n">param1</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
</h3>
<div class="doc doc-contents">
<p>Create dataframe that contain selected features from all statements table.</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">goto</span> <span class="o">=</span> <span class="n">YFinanceScrapper</span><span class="p">(</span><span class="s1">'GOTO.JK'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">goto</span><span class="o">.</span><span class="n">get_alldata</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">goto</span><span class="o">.</span><span class="n">important_dataframe</span><span class="p">()</span>
</code></pre></div>
<p>Args:
    param1 (:obj:<code>str</code>, optional): The first parameter. 
        Defaults to None.</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Name</th> <th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>imp_dataframe</code></td> <td>
<code>pandas.<span title="pandas.Dataframe">Dataframe</span></code>
</td>
<td><p>A pandas Dataframe that contain
selected features from each statement.</p></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>scrape/ScraFSY.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">important_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">param1</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">'''Create dataframe that contain selected features from all statements table.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; goto = YFinanceScrapper('GOTO.JK')</span>
<span class="sd">        &gt;&gt;&gt; goto.get_alldata()</span>
<span class="sd">        &gt;&gt;&gt; goto.important_dataframe()</span>

<span class="sd">     Args:</span>
<span class="sd">        param1 (:obj:`str`, optional): The first parameter. </span>
<span class="sd">            Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        imp_dataframe (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">            selected features from each statement.</span>
<span class="sd">    '''</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">important_header</span><span class="o">=</span><span class="p">[</span><span class="s1">'time'</span><span class="p">,</span><span class="s1">'company'</span><span class="p">,</span><span class="s1">'current_assets'</span><span class="p">,</span><span class="s1">'current_liabilities'</span><span class="p">,</span>
                        <span class="s1">'inventories'</span><span class="p">,</span><span class="s1">'cash&amp;cashequiv'</span><span class="p">,</span><span class="s1">'total_assets'</span><span class="p">,</span>
                        <span class="s1">'total_liabilities'</span><span class="p">,</span><span class="s1">'shareholder_equity'</span><span class="p">,</span>
                        <span class="s1">'operating_cashflow'</span><span class="p">,</span><span class="s1">'gross_profit'</span><span class="p">,</span><span class="s1">'investing_cashflow'</span><span class="p">,</span>
                        <span class="s1">'financing_cashflow'</span><span class="p">,</span><span class="s1">'end_cash'</span><span class="p">,</span>
                        <span class="s1">'operating_income'</span><span class="p">,</span><span class="s1">'total_revenue'</span><span class="p">,</span><span class="s1">'net_income'</span><span class="p">,</span>
                        <span class="s1">'interest_expense'</span><span class="p">,</span><span class="s1">'cost_of_good_sold'</span><span class="p">,</span><span class="s1">'EBIT'</span><span class="p">,</span><span class="s1">'EPS'</span><span class="p">,</span><span class="s1">'EBITDA'</span><span class="p">]</span>
        <span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">important_header</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'time'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Time'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'company'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Company'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'current_assets'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Current Assets'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'current_liabilities'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Current Liabilities'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'inventories'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Inventory'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'cash&amp;cashequiv'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Cash And Cash Equivalents'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'total_assets'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Total Assets'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'total_liabilities'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Total Liabilities Net Minority Interest'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'shareholder_equity'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">balance_sheet</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"Stockholders' Equity"</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'operating_cashflow'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'investing_cashflow'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Investing Cash Flow'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'financing_cashflow'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Financing Cash Flow'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'end_cash'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cash_flow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'End Cash Position'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'gross_profit'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Gross Profit'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'operating_income'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Operating Income'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'total_revenue'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Total Revenue'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'interest_expense'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Interest Expense'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'net_income'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Net Income'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'cost_of_good_sold'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Cost of Revenue'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'EBIT'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'EBIT'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'EPS'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Basic EPS'</span><span class="p">)</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'EBITDA'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Normalized EBITDA'</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span> <span class="o">=</span> <span class="n">df</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span>
    <span class="k">except</span><span class="p">(</span><span class="ne">KeyError</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'There are data that unavailable'</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h3 class="doc doc-heading" id="scrape.ScraFSY.YFinanceScrapper.metric_dataframe">
<code class="highlight language-python"><span class="n">metric_dataframe</span><span class="p">(</span><span class="n">param1</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
</h3>
<div class="doc doc-contents">
<p>Create dataframe that contain selected financial metrics
    from important dataframe.</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span> <span class="o">=</span> <span class="n">YFinanceScrapper</span><span class="p">(</span><span class="s1">'BBCA.JK'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span><span class="o">.</span><span class="n">get_alldata</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span><span class="o">.</span><span class="n">important_dataframe</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span><span class="o">.</span><span class="n">metric_dataframe</span><span class="p">()</span>
</code></pre></div>
<p>Args:
    param1 (:obj:<code>str</code>, optional): The first parameter. 
        Defaults to None.</p>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Name</th> <th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>metric</code></td> <td>
<code>pandas.<span title="pandas.Dataframe">Dataframe</span></code>
</td>
<td><p>A pandas Dataframe that contain
selected financial metrics from selected features.</p></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>scrape/ScraFSY.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">metric_dataframe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">param1</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">'''Create dataframe that contain selected financial metrics</span>
<span class="sd">        from important dataframe.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">        &gt;&gt;&gt; bca.get_alldata()</span>
<span class="sd">        &gt;&gt;&gt; bca.important_dataframe()</span>
<span class="sd">        &gt;&gt;&gt; bca.metric_dataframe()</span>

<span class="sd">     Args:</span>
<span class="sd">        param1 (:obj:`str`, optional): The first parameter. </span>
<span class="sd">            Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        metric (pandas.Dataframe): A pandas Dataframe that contain</span>
<span class="sd">            selected financial metrics from selected features.</span>
<span class="sd">    '''</span>
    <span class="n">metric_header</span><span class="o">=</span><span class="p">[</span><span class="s1">'time'</span><span class="p">,</span><span class="s1">'company'</span><span class="p">,</span><span class="s1">'net_profit_margin'</span><span class="p">,</span><span class="s1">'current_ratio'</span><span class="p">,</span><span class="s1">'acidtest_ratio'</span><span class="p">,</span>
                      <span class="s1">'cash_ratio'</span><span class="p">,</span><span class="s1">'operating_cash_flow_ratio'</span><span class="p">,</span><span class="s1">'debt_ratio'</span><span class="p">,</span>
                      <span class="s1">'return_on_asset_ratio'</span><span class="p">,</span><span class="s1">'debt_to_equity_ratio'</span><span class="p">,</span>
                      <span class="s1">'interest_coverage_ratio'</span><span class="p">,</span><span class="s1">'return_on_equity_ratio'</span><span class="p">,</span>
                      <span class="s1">'gross_margin_ratio'</span><span class="p">,</span><span class="s1">'operating_margin_ratio'</span><span class="p">]</span>
    <span class="n">df</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">metric_header</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'time'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Time'</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'company'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">income_statement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'Company'</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'net_profit_margin'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'net_income'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_revenue'</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'current_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'current_assets'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'current_liabilities'</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'acidtest_ratio'</span><span class="p">]</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'current_assets'</span><span class="p">)</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'inventories'</span><span class="p">))</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'current_liabilities'</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'cash_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'cash&amp;cashequiv'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'current_liabilities'</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'operating_cash_flow_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'operating_cashflow'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'current_liabilities'</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'debt_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_liabilities'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_assets'</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'debt_to_equity_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_liabilities'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'shareholder_equity'</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'interest_coverage_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'EBIT'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'interest_expense'</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'gross_margin_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'gross_profit'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_revenue'</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'operating_margin_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'operating_income'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_revenue'</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'return_on_asset_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'net_income'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'total_assets'</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">'return_on_equity_ratio'</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'net_income'</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">imp_dataframe</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'shareholder_equity'</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">metric</span> <span class="o">=</span> <span class="n">df</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">metric</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h3 class="doc doc-heading" id="scrape.ScraFSY.YFinanceScrapper.parse_data">
<code class="highlight language-python"><span class="n">parse_data</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">statement</span><span class="p">)</span></code>
</h3>
<div class="doc doc-contents">
<p>Parse JSON file from Yahoo Finance to get data in Financial Statements.</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span> <span class="o">=</span> <span class="n">YFinanceScrapper</span><span class="p">(</span><span class="s1">'BBCA.JK'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collect</span><span class="o">=</span> <span class="n">bca</span><span class="o">.</span><span class="n">parse_data</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">,</span><span class="s1">'Income Statement'</span><span class="p">)</span>
</code></pre></div>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>content</code></td>
<td>
<code>bs4.<span title="bs4.BeautifulSoup">BeautifulSoup</span></code>
</td>
<td><p>BeautifulSoup object that contain Yahoo Finance
HTML file in Pythonic idioms.</p></td>
<td>
<em>required</em>
</td>
</tr>
<tr>
<td><code>statement</code></td>
<td>
<code>str</code>
</td>
<td><p>The selected statement that is gonna be scraped.</p></td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Name</th> <th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>collect</code></td> <td>
<code>list</code>
</td>
<td><p>A list that contain all name of features and their value.</p></td>
</tr>
<tr>
<td><code>headers</code></td> <td>
<code>list</code>
</td>
<td><p>A list that contain name of headers in the table.</p></td>
</tr>
<tr>
<td><code>time</code></td> <td>
<code>list</code>
</td>
<td><p>List of periodic of collected data.</p></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>scrape/ScraFSY.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">parse_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">content</span><span class="p">,</span><span class="n">statement</span><span class="p">):</span>
<span class="w">    </span><span class="sd">'''Parse JSON file from Yahoo Finance to get data in Financial Statements.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">        &gt;&gt;&gt; collect= bca.parse_data(self.content,'Income Statement')</span>

<span class="sd">    Args:</span>
<span class="sd">        content (bs4.BeautifulSoup): BeautifulSoup object that contain Yahoo Finance</span>
<span class="sd">            HTML file in Pythonic idioms.</span>
<span class="sd">        statement (str): The selected statement that is gonna be scraped.</span>

<span class="sd">    Returns:</span>
<span class="sd">        collect (list): A list that contain all name of features and their value.</span>
<span class="sd">        headers (list): A list that contain name of headers in the table.</span>
<span class="sd">        time (list): List of periodic of collected data.</span>
<span class="sd">    '''</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1">#Find note of the currency</span>
        <span class="n">notes</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'span'</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">'Fz(xs)'</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">noted</span> <span class="ow">in</span> <span class="n">notes</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">noted</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">note</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">note</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">noted</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
        <span class="c1">#Find all div that contain class D(tbr)</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'div'</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">'D(tbr)'</span><span class="p">)</span>
        <span class="c1">#create time of data</span>
        <span class="k">for</span> <span class="n">header</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'span'</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
        <span class="c1">#Create list of time</span>
        <span class="k">if</span> <span class="n">statement</span> <span class="o">!=</span> <span class="s1">'Balance Sheet'</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="k">elif</span> <span class="n">statement</span> <span class="o">==</span> <span class="s1">'Balance Sheet'</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="c1">#create features of data</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
            <span class="n">columns</span><span class="o">=</span><span class="n">row</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'span'</span><span class="p">,</span><span class="n">class_</span><span class="o">=</span><span class="s1">'Va(m)'</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
        <span class="c1">#Get data in all features</span>
        <span class="n">data</span><span class="o">=</span><span class="p">[]</span>
        <span class="n">index</span><span class="o">=</span><span class="mi">1</span>
        <span class="k">while</span> <span class="n">index</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">span</span><span class="o">=</span><span class="n">rows</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">'div'</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">span</span><span class="p">:</span>
                <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">text</span><span class="p">)</span> 
            <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
            <span class="n">data</span><span class="o">=</span><span class="p">[]</span>
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">time</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'There are change in table format of financial statements, Please inform this error to us!'</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h3 class="doc doc-heading" id="scrape.ScraFSY.YFinanceScrapper.reset_data">
<code class="highlight language-python"><span class="n">reset_data</span><span class="p">(</span><span class="n">param1</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>
</h3>
<div class="doc doc-contents">
<p>Reset variable content, features, collect, time, and headers so it can use for scrape again.</p>
<p><strong>Examples:</strong></p>
<div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span> <span class="o">=</span> <span class="n">YFinanceScrapper</span><span class="p">(</span><span class="s1">'BBCA.JK'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">=</span> <span class="n">bca</span><span class="o">.</span><span class="n">get_finance_data</span><span class="p">(</span><span class="s1">'Income Statement'</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bca</span><span class="o">.</span><span class="n">reset_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_new</span><span class="o">=</span> <span class="n">bca</span><span class="o">.</span><span class="n">get_finance_data</span><span class="p">(</span><span class="s1">'Balance Sheet'</span><span class="p">)</span>
</code></pre></div>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>param1</code></td>
<td>
</td>
<td><p>obj:<code>str</code>, optional): The first parameter. 
Defaults to None.</p></td>
<td>
<code>None</code>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Name</th> <th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>collect</code></td> <td>
<code>list</code>
</td>
<td><p>Empty list for store collected data.</p></td>
</tr>
<tr>
<td><code>content</code></td> <td>
<code>NoneType</code>
</td>
<td><p>Variable content set to None for collected 
BeautifulSoup JSON data.</p></td>
</tr>
<tr>
<td><code>features</code></td> <td>
<code>list</code>
</td>
<td><p>Set features to default for storing features.</p></td>
</tr>
<tr>
<td><code>headeres</code></td> <td>
<code>list</code>
</td>
<td><p>Empty list for storing headers of financial
statements table headers.</p></td>
</tr>
<tr>
<td><code>time</code></td> <td>
<code>list</code>
</td>
<td><p>Empty list for storing periodic of
financial statements data.</p></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>scrape/ScraFSY.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">reset_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">param1</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">'''Reset variable content, features, collect, time, and headers so it can use for scrape again.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; bca = YFinanceScrapper('BBCA.JK')</span>
<span class="sd">        &gt;&gt;&gt; df= bca.get_finance_data('Income Statement')</span>
<span class="sd">        &gt;&gt;&gt; bca.reset_data()</span>
<span class="sd">        &gt;&gt;&gt; df_new= bca.get_finance_data('Balance Sheet')</span>

<span class="sd">    Args:</span>
<span class="sd">        param1 (:obj:`str`, optional): The first parameter. </span>
<span class="sd">            Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        collect (list): Empty list for store collected data.</span>
<span class="sd">        content (NoneType): Variable content set to None for collected </span>
<span class="sd">            BeautifulSoup JSON data.</span>
<span class="sd">        features (list): Set features to default for storing features.</span>
<span class="sd">        headeres (list): Empty list for storing headers of financial</span>
<span class="sd">            statements table headers.</span>
<span class="sd">        time (list): Empty list for storing periodic of</span>
<span class="sd">            financial statements data.</span>
<span class="sd">    '''</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="o">=</span><span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s1">'Company'</span><span class="p">,</span><span class="s1">'Time'</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">collect</span><span class="o">=</span><span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">time</span><span class="o">=</span><span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">headers</span><span class="o">=</span><span class="p">[]</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
<div class="doc doc-object doc-function">
<h3 class="doc doc-heading" id="scrape.ScraFSY.YFinanceScrapper.value_to_num">
<code class="highlight language-python"><span class="n">value_to_num</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code>
</h3>
<div class="doc doc-contents">
<p>Data manipulation that convert '-' to nan, convert ',' to '',
    convert 'K' to 1000.</p>
<p><strong>Parameters:</strong></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x</code></td>
<td>
<code>optional</code>
</td>
<td><p>Selected value that want to change.</p></td>
<td>
<em>required</em>
</td>
</tr>
</tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
<thead>
<tr>
<th>Name</th> <th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x</code></td> <td>
<code>float</code>
</td>
<td><p>New value with type float.</p></td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>scrape/ScraFSY.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">value_to_num</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">):</span>
<span class="w">    </span><span class="sd">'''Data manipulation that convert '-' to nan, convert ',' to '',</span>
<span class="sd">        convert 'K' to 1000.</span>

<span class="sd">    Args:</span>
<span class="sd">        x (optional): Selected value that want to change.</span>

<span class="sd">    Returns:</span>
<span class="sd">        x (float): New value with type float.</span>

<span class="sd">    '''</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="s1">'-'</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">float</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">!=</span><span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="s1">'.'</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">','</span><span class="p">,</span><span class="s1">''</span><span class="p">)))</span>
        <span class="k">elif</span> <span class="s1">'.'</span> <span class="ow">in</span> <span class="n">x</span> <span class="p">:</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">','</span><span class="p">,</span><span class="s1">''</span><span class="p">))</span>
    <span class="k">if</span> <span class="s1">'K'</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">'K'</span><span class="p">,</span><span class="s1">''</span><span class="p">))</span><span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
        <span class="k">return</span> <span class="mf">1000.0</span>
</code></pre></div></td></tr></table></div>
</details>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
<script src="../assets/javascripts/bundle.51198bba.min.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>